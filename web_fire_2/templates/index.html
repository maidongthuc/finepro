<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ph√¢n t√≠ch thi·∫øt b·ªã</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>Ph√¢n t√≠ch thi·∫øt b·ªã</h1>
        </header>

        <!-- Tab Navigation -->
        <div class="tab-container">
            <button class="tab-button active" onclick="showTab('fire-extinguisher')">
                üßØ B√¨nh ch·ªØa ch√°y
            </button>
            <button class="tab-button" onclick="showTab('gauge')">
                ‚è±Ô∏è ƒê·ªìng h·ªì
            </button>
        </div>

        <!-- Fire Extinguisher Tab -->
        <div id="fire-extinguisher" class="tab-content active">
            <div class="analysis-section">
                <h2>üì∑ Ph√¢n t√≠ch b√¨nh ch·ªØa ch√°y</h2>
                
                <div class="camera-section">
                    <video id="fire-video" class="camera-preview" autoplay playsinline style="display: none;"></video>
                    <canvas id="fire-canvas" style="display: none;"></canvas>
                    <img id="fire-preview" class="image-preview" style="display: none;" alt="·∫¢nh ƒë√£ ch·ª•p">
                    
                    <div class="camera-controls">
                        <button id="fire-camera-btn" class="camera-btn" onclick="startCamera('fire')">
                            üì∑ Ch·ª•p ·∫£nh b√¨nh ch·ªØa ch√°y
                        </button>
                        <button id="fire-upload-btn" class="upload-btn" onclick="triggerFileUpload('fire')">
                            üìÅ T·∫£i ·∫£nh t·ª´ thi·∫øt b·ªã
                        </button>
                        <input type="file" id="fire-file-input" accept="image/*" style="display: none;" onchange="handleFileUpload('fire', this)">
                        <button id="fire-capture-btn" class="capture-btn" onclick="captureImage('fire')" style="display: none;">
                            üì∏ Ch·ª•p
                        </button>
                        <button id="fire-retake-btn" class="retake-btn" onclick="retakeImage('fire')" style="display: none;">
                            üîÑ Ch·ª•p l·∫°i
                        </button>
                    </div>
                </div>

                <button id="fire-analyze-btn" class="analyze-btn" onclick="analyzeImage('fire')" style="display: none;">
                    üîç Ph√¢n t√≠ch b√¨nh ch·ªØa ch√°y
                </button>

                <div id="fire-loading" class="loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>ƒêang ph√¢n t√≠ch...</p>
                </div>

                <div id="fire-results" class="results" style="display: none;"></div>
            </div>
        </div>

        <!-- Gauge Tab -->
        <div id="gauge" class="tab-content">
            <div class="analysis-section">
                <h2>üì∑ Ph√¢n t√≠ch ƒë·ªìng h·ªì</h2>
                
                <div class="camera-section">
                    <video id="gauge-video" class="camera-preview" autoplay playsinline style="display: none;"></video>
                    <canvas id="gauge-canvas" style="display: none;"></canvas>
                    <img id="gauge-preview" class="image-preview" style="display: none;" alt="·∫¢nh ƒë√£ ch·ª•p">
                    
                    <div class="camera-controls">
                        <button id="gauge-camera-btn" class="camera-btn" onclick="startCamera('gauge')">
                            üì∑ Ch·ª•p ·∫£nh ƒë·ªìng h·ªì
                        </button>
                        <button id="gauge-upload-btn" class="upload-btn" onclick="triggerFileUpload('gauge')">
                            üìÅ T·∫£i ·∫£nh t·ª´ thi·∫øt b·ªã
                        </button>
                        <input type="file" id="gauge-file-input" accept="image/*" style="display: none;" onchange="handleFileUpload('gauge', this)">
                        <button id="gauge-capture-btn" class="capture-btn" onclick="captureImage('gauge')" style="display: none;">
                            üì∏ Ch·ª•p
                        </button>
                        <button id="gauge-retake-btn" class="retake-btn" onclick="retakeImage('gauge')" style="display: none;">
                            üîÑ Ch·ª•p l·∫°i
                        </button>
                    </div>
                </div>

                <button id="gauge-analyze-btn" class="analyze-btn" onclick="analyzeImage('gauge')" style="display: none;">
                    üîç Ph√¢n t√≠ch ƒë·ªìng h·ªì
                </button>

                <div id="gauge-loading" class="loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>ƒêang ph√¢n t√≠ch...</p>
                </div>

                <div id="gauge-results" class="results" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
